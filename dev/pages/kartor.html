<!-- **** Content **** -->
<div class="content">
    <div class="col-md-8">
      <!-- <div id="changeWidthOfContainer" ng-click="toggleRightBar()">
        <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
      </div> -->
      <div class="row">
        <div id="map-canvas">
          <ui-gmap-google-map center='map.center' zoom='map.zoom' events="map.options.events" control="map.control">
            <ui-gmap-markers models="areaMarkers" coords="'self'" icon="'icon'" click="markerClick">
            </ui-gmap-markers>
            <ui-gmap-marker coords="clickedLocation.coords" idkey="'aaaaaasdkljasdljkads'" options="clickedLocation.options">
            </ui-gmap-marker>
          </ui-gmap-google-map>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="rightbar">
        <accordion close-others="true">
          <accordion-group heading="Lägg till nytt område" is-open="newAreaPanel.open" class="barpanel">
            <div class="col-md-12">
              <form name="addAreaForm" class="form-group">
                  <div class="col-md-12">
                    <input ng-required="!addArea.areaName" ng-model="addArea.areaName" placeholder="Namn på området" >
                    <input ng-required="!addArea.position" ng-model="addArea.position" type="hidden"></input>
										<button  ng-click="addPositionToArea()">Välj position</button>
										<button ng-disabled="addAreaForm.$invalid" ng-click="saveNewArea()" class="btn btn-primary">Lägg till</button>
                  </div>
              </form>
            </div>
          </accordion-group>
          <accordion-group heading="{{area.attributes.name}}" ng-repeat="area in areas" is-open="clickedMarker[area.id]" class="barpanel" id="{{ area.id }}" emit-when="{event: 'newRendered', condition: $last}">
            <div class="col-md-12">
              <button ng-click="updateAreaPosition(area)">Spara!</button>
              <button ng-click="deleteArea(area)">Ta bort område + kartor!</button>
		  				<h4>Postition</h4>
              <!-- <p ng-bind="'Lat: ' + area.attributes.position._latitude">Lat</p>
              <p ng-bind="'Long: ' + area.attributes.position._longitude">Lat</p> -->
              <button ng-click="changeLocationOfArea(area)">Ändra plats</button>
              <h4>Kartor</h4>
               <div class="newMap row"> 
               	<form name="newMapForm">
                  <div class="col-md-6">
                   <div class="form-group">
                       <input ng-required="!newMap.mapName" ng-model="newMap.mapName" placeholder="Namn på kartan" >
                   </div>
                  </div>
                  <div class="col-md-6">
                   <p>Välj Svårighetsgrad</p>
                   <label class="radio">
                     <input type="radio" ng-required="!newMap.mapLevel" ng-model="newMap.mapLevel" ng-value="1"> 1
                   </label>
                   <label class="radio">
                     <input type="radio" ng-required="!newMap.mapLevel" ng-model="newMap.mapLevel" ng-value="2"> 2
                   </label>
                   <label class="radio">
                     <input type="radio" ng-required="!newMap.mapLevel" ng-model="newMap.mapLevel" ng-value="3"> 3
                   </label>
                  </div>
                  <div class="col-md-12">
                    <input ng-required="!newMap.uploadedMap" ng-model="newMap.uploadedMap"  type="file" onchange="angular.element(this).scope().uploadFile(this.files)"/>
                  </div>
                </form>
              </div>
              <div>
              	<button ng-disabled="newMapForm.$invalid" ng-click="saveMap(area)" class="btn btn-primary">spara karta</button>
              </div>
            	<strong><p>Nivå 1</p></strong>
            	<div class="row">
                <div ng-repeat="map in area.attributes.maps | filter: { attributes: { difficulty: '1' } } ">
                  <div class="col-md-4">
                      <p ng-bind="map.attributes.name"></p>
                      <img ng-src="{{displayMap(map.attributes.file._url)}}" class="img-responsive" />
                      <button ng-click="deleteMap(area, map)">Delete</button>
                  </div>
                </div>
               </div>
            	<strong><p>Nivå 2</p></strong>
            	<div class="row">
                <div ng-repeat="map in area.attributes.maps | filter: { attributes: { difficulty: '2' } } ">
                  <div class="col-md-4">
                      <p ng-bind="map.attributes.name"></p>
                      <img ng-src="{{displayMap(map.attributes.file._url)}}" class="img-responsive" />
                      <button ng-click="deleteMap(area, map)">Delete</button>
                  </div>
                </div>
               </div>
            	<strong><p>Nivå 3</p></strong>
            	<div class="row">
                <div ng-repeat="map in area.attributes.maps | filter: { attributes: { difficulty: '3' } } ">
                  <div class="col-md-4">
                      <p ng-bind="map.attributes.name"></p>
                      <img ng-src="{{displayMap(map.attributes.file._url)}}" class="img-responsive" />
                      <button ng-click="deleteMap(area, map)">Delete</button>
                  </div>
                </div>
               </div>
            </div>
          </accordion-group>
        </accordion>
      </div>
    </div>
</div>
