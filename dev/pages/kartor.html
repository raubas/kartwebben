<!-- **** Content **** -->
<div class="rightbar">
  <accordion close-others="true">
    <accordion-group heading="Lägg till nytt område" is-open="newAreaPanel.open" class="barpanel">
      <div class="col-md-12">
        <form name="addAreaForm" class="form-group">
            <div class="col-md-12">
              <div class="form-group">
                <input type="text" class="form-control" ng-required="!addArea.areaName" ng-model="addArea.areaName" placeholder="Namn på området" >
              </div>
              <div class="form-group">
                <button  ng-click="addPositionToArea()" class="btn btn-default">Välj position</button>
              </div>
              <div class="form-group">
                <input ng-required="!addArea.position" ng-model="addArea.position" type="hidden"></input>
                <button ng-disabled="addAreaForm.$invalid" ng-click="saveNewArea()" class="btn btn-primary">Lägg till</button>
              </div>
            </div>
        </form>
      </div>
    </accordion-group>
    <accordion-group heading="{{area.attributes.name}}" ng-repeat="area in areas" is-open="openAccordion[area.id]" class="barpanel" id="{{ area.id }}" emit-when="{event: 'newRendered', condition: $last}">
      <div class="col-md-12">

        <h4>Kartor</h4>
         <div class="newMap row"> 
          <form name="newMapForm">
            <div class="col-md-6">
             <div class="form-group">
                 <input type="text" class="form-control" ng-required="!newMap.mapName" ng-model="newMap.mapName" placeholder="Namn på kartan" >
             </div>
            </div>
            <div class="col-md-6">
             <p>Välj Svårighetsgrad</p>
             <label class="radio-inline">
               <input type="radio" ng-required="!newMap.mapLevel" ng-model="newMap.mapLevel" ng-value="1"> 1
             </label>
             <label class="radio-inline">
               <input type="radio" ng-required="!newMap.mapLevel" ng-model="newMap.mapLevel" ng-value="2"> 2
             </label>
             <label class="radio-inline">
               <input type="radio" ng-required="!newMap.mapLevel" ng-model="newMap.mapLevel" ng-value="3"> 3
             </label>
            </div>
            <div class="col-md-12 form-group">
              <input ng-required="!newMap.uploadedMap" ng-model="newMap.uploadedMap"  type="file" onchange="angular.element(this).scope().uploadFile(this.files)"/>
            </div>
            <div class="col-md-12 form-group">
              <button class="btn btn-primary" ng-disabled="newMapForm.$invalid" ng-click="saveMap(area)" >spara karta</button>
            </div>
          </form>
        </div>
        <strong><p>Nivå 1</p></strong>
        <div class="row">
          <div ng-repeat="map in area.attributes.maps | filter: { attributes: { difficulty: '1' } } ">
            <div class="col-md-4">
                <p ng-bind="map.attributes.name"></p>
                <img ng-src="{{displayMap(map.attributes.file._url)}}" class="img-responsive" />
                <button class="btn btn-default" ng-click="deleteMap(area, map)">Delete</button>
            </div>
          </div>
         </div>
        <strong><p>Nivå 2</p></strong>
        <div class="row">
          <div ng-repeat="map in area.attributes.maps | filter: { attributes: { difficulty: '2' } } ">
            <div class="col-md-4">
                <p ng-bind="map.attributes.name"></p>
                <img ng-src="{{displayMap(map.attributes.file._url)}}" class="img-responsive" />
                <button class="btn btn-default" ng-click="deleteMap(area, map)">Delete</button>
            </div>
          </div>
         </div>
        <strong><p>Nivå 3</p></strong>
        <div class="row">
          <div ng-repeat="map in area.attributes.maps | filter: { attributes: { difficulty: '3' } } ">
            <div class="col-md-4">
                <p ng-bind="map.attributes.name"></p>
                <img ng-src="{{displayMap(map.attributes.file._url)}}" class="img-responsive" />
                <button class="btn btn-default" ng-click="deleteMap(area, map)">Delete</button>
            </div>
          </div>
         </div>
         <hr>
      
      <button class="btn btn-danger" ng-click="showModal(area)">Ta bort område + kartor</button>
      <button class="btn btn-default" ng-click="changeLocationOfArea(area)">Ändra plats</button>
      <button class="btn btn-primary" ng-click="updateAreaPosition(area)">Spara</button>
      </div>

    </accordion-group>
  </accordion>
</div>