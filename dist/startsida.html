<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>Wahoo Development | Utvecklingsbyrå i Uppsala</title>
    <meta property="og:title" content="">
    <meta name="og:image" content="">
    <meta property="og:description" content="">

    <!-- bower:css -->
    <link rel="stylesheet" href="../bower_components/bootstrap-css/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../bower_components/vegas/dist/vegas.min.css" />
    <link rel="stylesheet" href="../bower_components/nya-bootstrap-select/dist/css/nya-bs-select.css" />
    <!-- endbower -->

    <!-- css -->
    <link rel="stylesheet" type="text/css" href="css/base.css">

    <!-- bower:js -->
    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/parse-angular-patch/dist/parse-angular.js"></script>
    <script src="../bower_components/bootstrap-css/js/bootstrap.min.js"></script>
    <script src="../bower_components/vegas/dist/vegas.min.js"></script>
    <script src="../bower_components/parse/parse.min.js"></script>
    <script src="../bower_components/angular-animate/angular-animate.js"></script>
    <script src="../bower_components/nya-bootstrap-select/dist/js/nya-bs-select.js"></script>
    <script src="../bower_components/lodash/lodash.js"></script>
    <script src="../bower_components/angular-google-maps/dist/angular-google-maps.js"></script>
    <script src="../bower_components/angularjs-geolocation/src/geolocation.js"></script>
    <script src="../bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
    <script src="../bower_components/angular-ui-router/release/angular-ui-router.js"></script>
    <!-- endbower -->

    <!-- Javascript -->
    <script src="../dev/js/app.js"></script>
    <script src="../dev/js/controllers/findMapsController.js"></script>
    <script src="../dev/js/controllers/navController.js"></script>
    <script src="../dev/js/base.js"></script>

   

</head>
<body>
  <div class="pagewrap">
    <!-- Navbar from angular -->
    <nav ng-include="'/dev/components/navbar.html'" ng-controller="navCtrl" class="navbar navbar-default navbar-fixed-top" id="header" role="navigation"></nav>


    <!-- **** Content **** -->
    <div class="content" ng-controller="findMapsCtrl">
        <div class="col-md-8 ">
          <div class="row">
            <div id="search-school">
              <form class="form-inline">
                <div class="form-group">
                  <div class="btn-group dropup" dropdown is-open="status.isopen">
                    <button type="button" class="btn btn-primary" dropdown-toggle ng-disabled="disabled">
                      Välj skola här! <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="single-button">
                      <li role="menuitem" ng-repeat="school in schools">
                      <a href ng-bind="school.attributes.name" ng-click="focusOnSchool(school)">Skola</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </form>
            </div>
            <div id="map-canvas">
              <ui-gmap-google-map center='map.center' zoom='map.zoom' pan="map.pan">
                <ui-gmap-markers models="areaMarkers" coords="'self'" icon="markerprops.area" click="markerClick">
                </ui-gmap-markers>
                <ui-gmap-markers models="schoolMarkers" coords="'self'" icon="markerprops.school">
                </ui-gmap-markers>
                <ui-gmap-marker coords="choosenSchool.coords" idkey="' << choosenSchool.key >> '" options="choosenSchool.options">
                </ui-gmap-marker>
              </ui-gmap-google-map>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="rightbar">
            <accordion close-others="true">
              <accordion-group heading="{{area.attributes.name}}" ng-repeat="area in areas" is-open="clickedMarker[area.id]" class="barpanel" id="{{ area.id }}">
                <div class="col-md-12">
                    <h4>Kartor</h4>
                    <div ng-repeat="map in area.attributes.maps">
                        <div class="col-md-4">
                            <p ng-bind="map.attributes.name"></p>
                            <img ng-src="{{displayMap(map.attributes.file._url)}}" class="img-responsive" ng-click="showModal(map.attributes.file._url, area.attributes.name, map.attributes.name)"/>
                        </div>
                    </div>
                </div>
              </accordion-group>
            </accordion>
          </div>
        </div>
    </div>
  </div>
</body>









